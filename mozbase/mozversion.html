

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mozversion — Get application information &mdash; Mozilla Source Tree Docs 59.0a1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Mozilla Source Tree Docs 59.0a1 documentation" href="../index.html"/>
        <link rel="up" title="Getting information on the system under test" href="gettinginfo.html"/>
        <link rel="next" title="Set up and running" href="setuprunning.html"/>
        <link rel="prev" title="moznetwork — Get network information" href="moznetwork.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Mozilla Source Tree Docs
          

          
          </a>

          
            
            
              <div class="version">
                59.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../browser/base/sslerrorreport/index.html">SSL Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../browser/browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../browser/experiments/experiments/index.html">Telemetry Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/fennec/index.html">Firefox for Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/fennec/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">mozbase</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="manifestparser.html">Managing lists of tests</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="gettinginfo.html">Getting information on the system under test</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="mozinfo.html"><code class="docutils literal"><span class="pre">mozinfo</span></code> — Get system information</a></li>
<li class="toctree-l3"><a class="reference internal" href="moznetwork.html"><code class="docutils literal"><span class="pre">moznetwork</span></code> — Get network information</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal"><span class="pre">mozversion</span></code> — Get application information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-mozversion">API Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-usage">Command Line Usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="setuprunning.html">Set up and running</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozhttpd.html">Serving up content to be consumed by the browser</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggingreporting.html">Logging and reporting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/mach/index.html">mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../taskcluster/taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/crashes/crash-manager/index.html">Crash Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/extensions/webextensions/index.html">WebExtensions API Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/payments/docs/index.html">WebPayments UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/telemetry/telemetry/index.html">Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/url-classifier/url-classifier/index.html">URL Classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/crashreporter/crashreporter/index.html">Crash Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/modules/subprocess/toolkit_modules/subprocess/index.html">Supbrocess Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/modules/toolkit_modules/index.html">Toolkit modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/mozapps/extensions/addon-manager/index.html">Add-on Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/compare-locales/index.html">Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/lint/index.html">Linting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/lint/index.html#indices-and-tables">Indices and tables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python/mach.html">mach package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/mozbuild.html">mozbuild package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/mozlint.html">mozlint package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/mozpack.html">mozpack package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/mozversioncontrol.html">mozversioncontrol package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/mozwebidlcodegen.html">mozwebidlcodegen package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/taskgraph.html">taskgraph package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mozilla Source Tree Docs</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">mozbase</a> &raquo;</li>
        
          <li><a href="gettinginfo.html">Getting information on the system under test</a> &raquo;</li>
        
      <li><code class="docutils literal"><span class="pre">mozversion</span></code> — Get application information</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/mozbase/mozversion.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mozversion-get-application-information">
<h1><a class="reference internal" href="#module-mozversion" title="mozversion"><code class="xref py py-mod docutils literal"><span class="pre">mozversion</span></code></a> — Get application information<a class="headerlink" href="#mozversion-get-application-information" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/mozilla/mozbase/tree/master/mozversion">mozversion</a>
provides version information such as the application name and the changesets
that it has been built from. This is commonly used in reporting or for
conditional logic based on the application under test.</p>
<p>Note that mozversion can report the version of remote devices (e.g. Firefox OS)
but it requires the mozdevice dependency in that case. You can require it
along with mozversion by using the extra <em>device</em> dependency:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pip install mozversion<span class="o">[</span>device<span class="o">]</span>
</pre></div>
</div>
<div class="section" id="module-mozversion">
<span id="api-usage"></span><h2>API Usage<a class="headerlink" href="#module-mozversion" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mozversion.get_version">
<code class="descclassname">mozversion.</code><code class="descname">get_version</code><span class="sig-paren">(</span><em>binary=None</em>, <em>sources=None</em>, <em>host=None</em>, <em>device_serial=None</em>, <em>adb_host=None</em>, <em>adb_port=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mozversion.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the application version information as a dict. You can specify
a path to the binary of the application or an Android APK file (to get
version information for Firefox for Android). If this is omitted then the
current directory is checked for the existance of an application.ini
file. If not found and that the binary path was not specified, then it is
assumed the target application is a remote Firefox OS instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>binary</strong> – Path to the binary for the application or Android APK file</li>
<li><strong>sources</strong> – Path to the sources.xml file (Firefox OS)</li>
<li><strong>host</strong> – Host address of remote Firefox OS instance (not used with ADB)</li>
<li><strong>device_serial</strong> – Serial identifier of Firefox OS device (ADB)</li>
<li><strong>adb_host</strong> – Host address of ADB server</li>
<li><strong>adb_port</strong> – Port of ADB server</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>Firefox:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mozversion</span>

<span class="n">version</span> <span class="o">=</span> <span class="n">mozversion</span><span class="o">.</span><span class="n">get_version</span><span class="p">(</span><span class="n">binary</span><span class="o">=</span><span class="s1">&#39;/path/to/firefox-bin&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">version</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
    <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Firefox for Android:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">version</span> <span class="o">=</span> <span class="n">mozversion</span><span class="o">.</span><span class="n">get_version</span><span class="p">(</span><span class="n">binary</span><span class="o">=</span><span class="s1">&#39;path/to/firefox.apk&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">version</span><span class="p">[</span><span class="s1">&#39;application_changeset&#39;</span><span class="p">]</span> <span class="c1"># gets hg revision of build</span>
</pre></div>
</div>
<p>FirefoxOS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">version</span> <span class="o">=</span> <span class="n">mozversion</span><span class="o">.</span><span class="n">get_version</span><span class="p">(</span><span class="n">sources</span><span class="o">=</span><span class="s1">&#39;path/to/sources.xml&#39;</span><span class="p">,</span> <span class="n">dm_type</span><span class="o">=</span><span class="s1">&#39;adb&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">version</span><span class="p">[</span><span class="s1">&#39;gaia_changeset&#39;</span><span class="p">]</span> <span class="c1"># gets gaia git revision</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="command-line-usage">
<h2>Command Line Usage<a class="headerlink" href="#command-line-usage" title="Permalink to this headline">¶</a></h2>
<p>mozversion comes with a command line program, <code class="docutils literal"><span class="pre">mozversion</span></code> which may be used to
get version information from an application.</p>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mozversion</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="options">
<h3>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<div class="section" id="binary">
<h4>—binary<a class="headerlink" href="#binary" title="Permalink to this headline">¶</a></h4>
<p>This is the path to the target application binary or .apk. If this is omitted
then the current directory is checked for the existance of an
application.ini file. If not found, then it is assumed the target
application is a remote Firefox OS instance.</p>
</div>
<div class="section" id="sources">
<h4>—sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h4>
<p>The path to the sources.xml that accompanies the target application (Firefox OS
only). If this is omitted then the current directory is checked for the
existance of a sources.xml file.</p>
</div>
</div>
<div class="section" id="id1">
<h3>Examples<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Firefox:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ mozversion --binary=/path/to/firefox-bin
application_buildid: 20131205075310
application_changeset: 39faf812aaec
application_name: Firefox
application_repository: http://hg.mozilla.org/releases/mozilla-release
application_version: 26.0
platform_buildid: 20131205075310
platform_changeset: 39faf812aaec
platform_repository: http://hg.mozilla.org/releases/mozilla-release
</pre></div>
</div>
<p>Firefox for Android:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ mozversion --binary=/path/to/firefox.apk
</pre></div>
</div>
<p>Firefox OS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ mozversion --sources=/path/to/sources.xml
application_buildid: 20140106040201
application_changeset: 14ac61461f2a
application_name: B2G
application_repository: http://hg.mozilla.org/mozilla-central
application_version: 29.0a1
build_changeset: 59605a7c026ff06cc1613af3938579b1dddc6cfe
device_firmware_date: 1380051975
device_firmware_version_incremental: 139
device_firmware_version_release: 4.0.4
device_id: msm7627a
gaia_changeset: 9a222ac02db176e47299bb37112ae40aeadbeca7
gaia_date: 1389005812
gecko_changeset: 3a2d8af198510726b063a217438fcf2591f4dfcf
platform_buildid: 20140106040201
platform_changeset: 14ac61461f2a
platform_repository: http://hg.mozilla.org/mozilla-central
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="setuprunning.html" class="btn btn-neutral float-right" title="Set up and running" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="moznetwork.html" class="btn btn-neutral" title="moznetwork — Get network information" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'59.0a1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>