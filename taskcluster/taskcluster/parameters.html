

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parameters &mdash; Mozilla Source Tree Docs 59.0a1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Mozilla Source Tree Docs 59.0a1 documentation" href="../../index.html"/>
        <link rel="up" title="Reference" href="reference.html"/>
        <link rel="next" title="Task Attributes" href="attributes.html"/>
        <link rel="prev" title="Task Kinds" href="kinds.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Mozilla Source Tree Docs
          

          
          </a>

          
            
            
              <div class="version">
                59.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../browser/base/sslerrorreport/index.html">SSL Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../browser/browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../browser/experiments/experiments/index.html">Telemetry Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gfx/gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/android/fennec/index.html">Firefox for Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/android/fennec/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mozbase/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/mach/index.html">mach</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">TaskCluster Task-Graph Generation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="taskgraph.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.html">Mach commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="loading.html">Loading Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimization.html">Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker-images.html">Docker Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="cron.html">Periodic Taskgraphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="try.html">Try</a></li>
<li class="toctree-l2"><a class="reference internal" href="actions.html">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-tos.html">How Tos</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="reference.html">Reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="kinds.html">Task Kinds</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#push-information">Push Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tree-information">Tree Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#try-configuration">Try Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#target-set">Target Set</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optimization">Optimization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#release-promotion">Release Promotion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comm-push-information">Comm Push Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="attributes.html">Task Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="caches.html">Caches</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/geckodriver/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/marionette/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/components/crashes/crash-manager/index.html">Crash Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/components/extensions/webextensions/index.html">WebExtensions API Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/components/payments/docs/index.html">WebPayments UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/components/telemetry/telemetry/index.html">Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/components/url-classifier/url-classifier/index.html">URL Classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/crashreporter/crashreporter/index.html">Crash Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/modules/subprocess/toolkit_modules/subprocess/index.html">Supbrocess Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/modules/toolkit_modules/index.html">Toolkit modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/mozapps/extensions/addon-manager/index.html">Add-on Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/compare-locales/index.html">Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/lint/index.html">Linting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/lint/index.html#indices-and-tables">Indices and tables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python/mach.html">mach package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/mozbuild.html">mozbuild package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/mozlint.html">mozlint package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/mozpack.html">mozpack package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/mozversioncontrol.html">mozversioncontrol package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/mozwebidlcodegen.html">mozwebidlcodegen package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/taskgraph.html">taskgraph package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Mozilla Source Tree Docs</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">TaskCluster Task-Graph Generation</a> &raquo;</li>
        
          <li><a href="reference.html">Reference</a> &raquo;</li>
        
      <li>Parameters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/taskcluster/taskcluster/parameters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parameters">
<h1>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h1>
<p>Task-graph generation takes a collection of parameters as input, in the form of
a JSON or YAML file.</p>
<p>During decision-task processing, some of these parameters are supplied on the
command line or by environment variables.  The decision task helpfully produces
a full parameters file as one of its output artifacts.  The other <code class="docutils literal"><span class="pre">mach</span>
<span class="pre">taskgraph</span></code> commands can take this file as input.  This can be very helpful
when working on a change to the task graph.</p>
<p>When experimenting with local runs of the task-graph generation, it is always
best to find a recent decision task’s <code class="docutils literal"><span class="pre">parameters.yml</span></code> file, and modify that
file if necessary, rather than starting from scratch.  This ensures you have a
complete set of parameters.</p>
<p>The properties of the parameters object are described here, divided rougly by
topic.</p>
<div class="section" id="push-information">
<h2>Push Information<a class="headerlink" href="#push-information" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">base_repository</span></code></dt>
<dd>The repository from which to do an initial clone, utilizing any available
caching.</dd>
<dt><code class="docutils literal"><span class="pre">head_repository</span></code></dt>
<dd>The repository containing the changeset to be built.  This may differ from
<code class="docutils literal"><span class="pre">base_repository</span></code> in cases where <code class="docutils literal"><span class="pre">base_repository</span></code> is likely to be cached
and only a few additional commits are needed from <code class="docutils literal"><span class="pre">head_repository</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">head_rev</span></code></dt>
<dd>The revision to check out; this can be a short revision string</dd>
<dt><code class="docutils literal"><span class="pre">head_ref</span></code></dt>
<dd>For Mercurial repositories, this is the same as <code class="docutils literal"><span class="pre">head_rev</span></code>.  For
git repositories, which do not allow pulling explicit revisions, this gives
the symbolic ref containing <code class="docutils literal"><span class="pre">head_rev</span></code> that should be pulled from
<code class="docutils literal"><span class="pre">head_repository</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">include_nightly</span></code></dt>
<dd>Include nightly builds and tests in the graph.</dd>
<dt><code class="docutils literal"><span class="pre">owner</span></code></dt>
<dd>Email address indicating the person who made the push.  Note that this
value may be forged and <em>must not</em> be relied on for authentication.</dd>
<dt><code class="docutils literal"><span class="pre">message</span></code></dt>
<dd>The commit message</dd>
<dt><code class="docutils literal"><span class="pre">pushlog_id</span></code></dt>
<dd>The ID from the <code class="docutils literal"><span class="pre">hg.mozilla.org</span></code> pushlog</dd>
<dt><code class="docutils literal"><span class="pre">pushdate</span></code></dt>
<dd>The timestamp of the push to the repository that triggered this decision
task.  Expressed as an integer seconds since the UNIX epoch.</dd>
<dt><code class="docutils literal"><span class="pre">build_date</span></code></dt>
<dd>The timestamp of the build date. Defaults to <code class="docutils literal"><span class="pre">pushdate</span></code> and falls back to present time of
taskgraph invocation. Expressed as an integer seconds since the UNIX epoch.</dd>
<dt><code class="docutils literal"><span class="pre">moz_build_date</span></code></dt>
<dd>A formatted timestamp of <code class="docutils literal"><span class="pre">build_date</span></code>. Expressed as a string with the following
format: %Y%m%d%H%M%S</dd>
</dl>
</div>
<div class="section" id="tree-information">
<h2>Tree Information<a class="headerlink" href="#tree-information" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">project</span></code></dt>
<dd>Another name for what may otherwise be called tree or branch or
repository.  This is the unqualified name, such as <code class="docutils literal"><span class="pre">mozilla-central</span></code> or
<code class="docutils literal"><span class="pre">cedar</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">level</span></code></dt>
<dd>The <a class="reference external" href="https://www.mozilla.org/en-US/about/governance/policies/commit/access-policy/">SCM level</a>
associated with this tree.  This dictates the names of resources used in the
generated tasks, and those tasks will fail if it is incorrect.</dd>
</dl>
</div>
<div class="section" id="try-configuration">
<h2>Try Configuration<a class="headerlink" href="#try-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">try_mode</span></code></dt>
<dd>The mode in which a try push is operating.  This can be one of
<code class="docutils literal"><span class="pre">&quot;try_task_config&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;try_option_syntax&quot;</span></code>, or <code class="docutils literal"><span class="pre">None</span></code> meaning no try
input was provided.</dd>
<dt><code class="docutils literal"><span class="pre">try_options</span></code></dt>
<dd>The arguments given as try syntax (as a dictionary), or <code class="docutils literal"><span class="pre">None</span></code> if
<code class="docutils literal"><span class="pre">try_mode</span></code> is not <code class="docutils literal"><span class="pre">try_option_syntax</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">try_task_config</span></code></dt>
<dd>The contents of the <code class="docutils literal"><span class="pre">try_task_config.json</span></code> file, or <code class="docutils literal"><span class="pre">None</span></code> if
<code class="docutils literal"><span class="pre">try_mode</span></code> is not <code class="docutils literal"><span class="pre">try_task_config</span></code>.</dd>
</dl>
</div>
<div class="section" id="target-set">
<h2>Target Set<a class="headerlink" href="#target-set" title="Permalink to this headline">¶</a></h2>
<p>The “target set” is the set of task labels which must be included in a task
graph.  The task graph generation process will include any tasks required by
those in the target set, recursively.  In a decision task, this set can be
specified programmatically using one of a variety of methods (e.g., parsing try
syntax or reading a project-specific configuration file).</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">filters</span></code></dt>
<dd>List of filter functions (from <code class="docutils literal"><span class="pre">taskcluster/taskgraph/filter_tasks.py</span></code>) to
apply. This is usually defined internally, as filters are typically
global.</dd>
<dt><code class="docutils literal"><span class="pre">target_tasks_method</span></code></dt>
<dd>The method to use to determine the target task set.  This is the suffix of
one of the functions in <code class="docutils literal"><span class="pre">taskcluster/taskgraph/target_tasks.py</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">include_nightly</span></code></dt>
<dd>If true, then nightly tasks are eligible for optimization.</dd>
<dt><code class="docutils literal"><span class="pre">release_history</span></code></dt>
<dd>History of recent releases by platform and locale, used when generating
partial updates for nightly releases.
Suitable contents can be generated with <code class="docutils literal"><span class="pre">mach</span> <span class="pre">release-history</span></code>,
which will print to the console by default.</dd>
</dl>
</div>
<div class="section" id="optimization">
<h2>Optimization<a class="headerlink" href="#optimization" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">optimize_target_tasks</span></code></dt>
<dd>If true, then target tasks are eligible for optimization.</dd>
<dt><code class="docutils literal"><span class="pre">do_not_optimize</span></code></dt>
<dd>Specify tasks to not optimize out of the graph. This is a list of labels.
Any tasks in the graph matching one of the labels will not be optimized out
of the graph.</dd>
<dt><code class="docutils literal"><span class="pre">existing_tasks</span></code></dt>
<dd>Specify tasks to optimize out of the graph. This is a dictionary of label to taskId.
Any tasks in the graph matching one of the labels will use the previously-run
taskId rather than submitting a new task.</dd>
</dl>
</div>
<div class="section" id="release-promotion">
<h2>Release Promotion<a class="headerlink" href="#release-promotion" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">build_number</span></code></dt>
<dd>Specify the release promotion build number.</dd>
<dt><code class="docutils literal"><span class="pre">next_version</span></code></dt>
<dd>Specify the next version for version bump tasks.</dd>
</dl>
</div>
<div class="section" id="comm-push-information">
<h2>Comm Push Information<a class="headerlink" href="#comm-push-information" title="Permalink to this headline">¶</a></h2>
<p>These parameters correspond to the repository and revision of the comm-central
repository to checkout. Their meaning is the same as the corresponding
parameters for the gecko repository above. They are optional, but if any of
them are specified, they must all be specified.</p>
<p><code class="docutils literal"><span class="pre">comm_base_repository</span></code>
<code class="docutils literal"><span class="pre">comm_head_repository</span></code>
<code class="docutils literal"><span class="pre">comm_head_rev</span></code>
<code class="docutils literal"><span class="pre">comm_head_ref</span></code></p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="attributes.html" class="btn btn-neutral float-right" title="Task Attributes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kinds.html" class="btn btn-neutral" title="Task Kinds" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'59.0a1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>