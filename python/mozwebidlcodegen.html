

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mozwebidlcodegen package &mdash; Mozilla Source Tree Docs 59.0a1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Mozilla Source Tree Docs 59.0a1 documentation" href="../index.html"/>
        <link rel="next" title="taskgraph package" href="taskgraph.html"/>
        <link rel="prev" title="mozversioncontrol package" href="mozversioncontrol.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Mozilla Source Tree Docs
          

          
          </a>

          
            
            
              <div class="version">
                59.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../browser/base/sslerrorreport/index.html">SSL Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../browser/browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../browser/experiments/experiments/index.html">Telemetry Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/fennec/index.html">Firefox for Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/fennec/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mozbase/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="mach/index.html">mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../taskcluster/taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/crashes/crash-manager/index.html">Crash Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/extensions/webextensions/index.html">WebExtensions API Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/payments/docs/index.html">WebPayments UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/telemetry/telemetry/index.html">Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/components/url-classifier/url-classifier/index.html">URL Classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/crashreporter/crashreporter/index.html">Crash Reporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/modules/subprocess/toolkit_modules/subprocess/index.html">Supbrocess Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/modules/toolkit_modules/index.html">Toolkit modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/mozapps/extensions/addon-manager/index.html">Add-on Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/compare-locales/index.html">Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/lint/index.html">Linting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/lint/index.html#indices-and-tables">Indices and tables</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mach.html">mach package</a></li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.html">mozbuild package</a></li>
<li class="toctree-l1"><a class="reference internal" href="mozlint.html">mozlint package</a></li>
<li class="toctree-l1"><a class="reference internal" href="mozpack.html">mozpack package</a></li>
<li class="toctree-l1"><a class="reference internal" href="mozversioncontrol.html">mozversioncontrol package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">mozwebidlcodegen package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-mozwebidlcodegen">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="taskgraph.html">taskgraph package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mozilla Source Tree Docs</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>mozwebidlcodegen package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/python/mozwebidlcodegen.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mozwebidlcodegen-package">
<h1>mozwebidlcodegen package<a class="headerlink" href="#mozwebidlcodegen-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mozwebidlcodegen">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mozwebidlcodegen" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mozwebidlcodegen.BuildResult">
<em class="property">class </em><code class="descclassname">mozwebidlcodegen.</code><code class="descname">BuildResult</code><a class="headerlink" href="#mozwebidlcodegen.BuildResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Represents the result of processing WebIDL files.</p>
<p>This holds a summary of output file generation during code generation.</p>
</dd></dl>

<dl class="class">
<dt id="mozwebidlcodegen.BuildSystemWebIDL">
<em class="property">class </em><code class="descclassname">mozwebidlcodegen.</code><code class="descname">BuildSystemWebIDL</code><span class="sig-paren">(</span><em>topsrcdir</em>, <em>settings</em>, <em>log_manager</em>, <em>topobjdir=None</em>, <em>mozconfig=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.BuildSystemWebIDL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mozbuild.html#mozbuild.base.MozbuildObject" title="mozbuild.base.MozbuildObject"><code class="xref py py-class docutils literal"><span class="pre">mozbuild.base.MozbuildObject</span></code></a></p>
<dl class="attribute">
<dt id="mozwebidlcodegen.BuildSystemWebIDL.manager">
<code class="descname">manager</code><a class="headerlink" href="#mozwebidlcodegen.BuildSystemWebIDL.manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mozwebidlcodegen.WebIDLCodegenManager">
<em class="property">class </em><code class="descclassname">mozwebidlcodegen.</code><code class="descname">WebIDLCodegenManager</code><span class="sig-paren">(</span><em>config_path</em>, <em>inputs</em>, <em>exported_header_dir</em>, <em>codegen_dir</em>, <em>state_path</em>, <em>cache_dir=None</em>, <em>make_deps_path=None</em>, <em>make_deps_target=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mach.mixin.html#mach.mixin.logging.LoggingMixin" title="mach.mixin.logging.LoggingMixin"><code class="xref py py-class docutils literal"><span class="pre">mach.mixin.logging.LoggingMixin</span></code></a></p>
<p>Manages all code generation around WebIDL.</p>
<p>To facilitate testing, this object is meant to be generic and reusable.
Paths, etc should be parameters and not hardcoded.</p>
<dl class="attribute">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.GLOBAL_DECLARE_FILES">
<code class="descname">GLOBAL_DECLARE_FILES</code><em class="property"> = set([u'GeneratedAtomList.h', u'RegisterWorkerBindings.h', u'ResolveSystemBinding.h', u'GeneratedEventList.h', u'UnionConversions.h', u'RegisterBindings.h', u'PrototypeList.h', u'RegisterWorkletBindings.h', u'RegisterWorkerDebuggerBindings.h', u'UnionTypes.h'])</em><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.GLOBAL_DECLARE_FILES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.GLOBAL_DEFINE_FILES">
<code class="descname">GLOBAL_DEFINE_FILES</code><em class="property"> = set([u'UnionTypes.cpp', u'RegisterWorkerDebuggerBindings.cpp', u'RegisterWorkerBindings.cpp', u'RegisterWorkletBindings.cpp', u'ResolveSystemBinding.cpp', u'RegisterBindings.cpp', u'PrototypeList.cpp'])</em><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.GLOBAL_DEFINE_FILES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.config">
<code class="descname">config</code><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.expected_build_output_files">
<code class="descname">expected_build_output_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.expected_build_output_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the set of files generate_build_files() should write.</p>
</dd></dl>

<dl class="method">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.generate_build_files">
<code class="descname">generate_build_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.generate_build_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate files required for the build.</p>
<p>This function is in charge of generating all the .h/.cpp files derived
from input .webidl files. Please note that there are build actions
required to produce .webidl files and these build actions are
explicitly not captured here: this function assumes all .webidl files
are present and up to date.</p>
<p>This routine is called as part of the build to ensure files that need
to exist are present and up to date. This routine may not be called if
the build dependencies (generated as a result of calling this the first
time) say everything is up to date.</p>
<p>Because reprocessing outputs for every .webidl on every invocation
is expensive, we only regenerate the minimal set of files on every
invocation. The rules for deciding what needs done are roughly as
follows:</p>
<ol class="arabic simple">
<li>If any .webidl changes, reparse all .webidl files and regenerate
the global derived files. Only regenerate output files (.h/.cpp)
impacted by the modified .webidl files.</li>
<li>If an non-.webidl dependency (Python files, config file) changes,
assume everything is out of date and regenerate the world. This
is because changes in those could globally impact every output
file.</li>
<li>If an output file is missing, ensure it is present by performing
necessary regeneration.</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.generate_example_files">
<code class="descname">generate_example_files</code><span class="sig-paren">(</span><em>interface</em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.generate_example_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates example files for a given interface.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mozwebidlcodegen.WebIDLCodegenManagerState">
<em class="property">class </em><code class="descclassname">mozwebidlcodegen.</code><code class="descname">WebIDLCodegenManagerState</code><span class="sig-paren">(</span><em>fh=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManagerState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>Holds state for the WebIDL code generation manager.</p>
<p>State is currently just an extended dict. The internal implementation of
state should be considered a black box to everyone except
WebIDLCodegenManager. But we’ll still document it.</p>
<p>Fields:</p>
<dl class="docutils">
<dt>version</dt>
<dd>The integer version of the format. This is to detect incompatible
changes between state. It should be bumped whenever the format
changes or semantics change.</dd>
<dt>webidls</dt>
<dd><p class="first">A dictionary holding information about every known WebIDL input.
Keys are the basenames of input WebIDL files. Values are dicts of
metadata. Keys in those dicts are:</p>
<ul class="last simple">
<li>filename - The full path to the input filename.</li>
<li>inputs - A set of full paths to other webidl files this webidl
depends on.</li>
<li>outputs - Set of full output paths that are created/derived from
this file.</li>
<li>sha1 - The hexidecimal SHA-1 of the input filename from the last
processing time.</li>
</ul>
</dd>
<dt>global_inputs</dt>
<dd>A dictionary defining files that influence all processing. Keys
are full filenames. Values are hexidecimal SHA-1 from the last
processing time.</dd>
</dl>
<dl class="attribute">
<dt id="mozwebidlcodegen.WebIDLCodegenManagerState.VERSION">
<code class="descname">VERSION</code><em class="property"> = 1</em><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManagerState.VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mozwebidlcodegen.WebIDLCodegenManagerState.dump">
<code class="descname">dump</code><span class="sig-paren">(</span><em>fh</em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManagerState.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump serialized state to a file handle.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="mozwebidlcodegen.create_build_system_manager">
<code class="descclassname">mozwebidlcodegen.</code><code class="descname">create_build_system_manager</code><span class="sig-paren">(</span><em>topsrcdir</em>, <em>topobjdir</em>, <em>dist_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.create_build_system_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a WebIDLCodegenManager for use by the build system.</p>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="taskgraph.html" class="btn btn-neutral float-right" title="taskgraph package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mozversioncontrol.html" class="btn btn-neutral" title="mozversioncontrol package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'59.0a1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>